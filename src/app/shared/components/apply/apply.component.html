<section class="apply">
    <div class="static-banner">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="title">Apply</div>
                    <div class="desc">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem
                        Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer
                        took a galley of type and scrambled it to make a type specimen book.</div>
                </div>
            </div>
        </div>
    </div>
    <div class="content">
        <div class="container">
            <div class="row my-5">
                <div class="col-9">
                    <mat-accordion class="example-headers-align">
                        <mat-expansion-panel [expanded]="step === 0" hideToggle>
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    RTI Details
                                </mat-panel-title>
                                <mat-panel-description>
                                    <mat-icon>insert_drive_file</mat-icon>
                                </mat-panel-description>
                            </mat-expansion-panel-header>

                            <div class="row">
                                <div class="col-12">
                                    <form class="example-container" [formGroup]="rtidetails"
                                        [style.fontSize.px]="getFontSize()">
                                        <div class="choose-service">
                                            <div class="row mt-4">
                                                <div class="col-12">
                                                    <mat-radio-group aria-label="Select an option" (change)="onChangeCategory($event)">
                                                        <mat-radio-button value="1">Personal RTI</mat-radio-button>
                                                        <mat-radio-button value="2">Social RTI</mat-radio-button>
                                                        <mat-radio-button value="3">Other RTI</mat-radio-button>
                                                      </mat-radio-group>
                                                </div>
                                                <!-- <div class="col-4">
                                                    <div class="service-category" (click)="categoryChange(1)">
                                                        <div class="img-wrapper">
                                                            <img src="assets/svg/man-user.svg" alt="">
                                                        </div>
                                                        <span>Personal RTI</span>
                                                    </div>
                                                </div>
                                                <div class="col-4">
                                                    <div class="service-category" (click)="categoryChange(2)">
                                                        <div class="img-wrapper">
                                                            <img src="assets/svg/users-group.svg" alt="">
                                                        </div>
                                                        <span>Social RTI</span>
                                                    </div>
                                                </div>
                                                <div class="col-4">
                                                    <div class="service-category" (click)="categoryChange(3)">
                                                        <div class="img-wrapper">
                                                            <img src="assets/svg/question-mark.svg" alt="">
                                                        </div>
                                                        <span>Other RTI</span>
                                                    </div>
                                                </div> -->
                                            </div>
                                            <div class="row mt-4">
                                                <div class="col-md-4 col-12">
                                                    <mat-form-field class="example-full-width" appearance="fill">
                                                        <mat-label>Select Service</mat-label>
                                                        <mat-select [formControl]="selectControl"
                                                            (selectionChange)="onChangeService($event)"
                                                            [(ngModel)]="selectedValue" ngDefaultControl formControlName="serviceType">
                                                            <mat-option *ngFor="let service of finalServices"
                                                                [value]="service.link">{{service.option}}
                                                            </mat-option>
                                                        </mat-select>
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="selected-service-form">
                                            <router-outlet></router-outlet>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <mat-action-row>
                                <button mat-button color="primary" (click)="onSubmitRti()" [disabled]="!status">Next</button>
                            </mat-action-row>
                        </mat-expansion-panel>

                        <mat-expansion-panel [expanded]="step === 1"  hideToggle [disabled]="!stepTwo">

                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    Personal Details
                                </mat-panel-title>
                                <mat-panel-description>
                                    <mat-icon>account_circle</mat-icon>
                                </mat-panel-description>
                            </mat-expansion-panel-header>
                            <form [formGroup]="personalDetailsForm">
                                <div class="row mt-4">
                                    <div class="col-md-3 col-12">
                                        <mat-form-field class="example-full-width">
                                            <mat-label>Full name</mat-label>
                                            <input matInput [(ngModel)]="fullname" ngDefaultControl  formControlName="fullname">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3 col-12">
                                        <mat-form-field class="example-full-width">
                                            <mat-label>Mobile</mat-label>
                                            <input matInput type="tel" [(ngModel)]="mobile" ngDefaultControl formControlName="mobile" maxlength="10">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3 col-12">
                                        <mat-form-field class="example-full-width">
                                            <mat-label>Email</mat-label>
                                            <input matInput type="email" [(ngModel)]="email" ngDefaultControl formControlName="email">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3 col-12">
                                        <mat-form-field class="example-full-width">
                                            <mat-label>State</mat-label>
                                            <input matInput type="text" [(ngModel)]="state" formControlName="state" ngDefaultControl>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3 col-12">
                                        <mat-form-field class="example-full-width">
                                            <mat-label>City</mat-label>
                                            <input matInput type="text" [(ngModel)]="city" formControlName="city" ngDefaultControl>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3 col-12">
                                        <mat-form-field class="example-full-width">
                                            <mat-label>Pincode</mat-label>
                                            <input matInput type="text" [(ngModel)]="pincode" formControlName="pincode" ngDefaultControl maxlength="6">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-6 col-12">
                                        <mat-form-field class="example-full-width">
                                            <mat-label>Address</mat-label>
                                            <textarea matInput style="resize: none;" [(ngModel)]="address"
                                                formControlName="address" ngDefaultControl></textarea>
                                        </mat-form-field>
                                    </div>

                                    <div class="col-md-3 col-12"></div>
                                </div>
                                <mat-action-row>
                                    <button mat-button color="warn" (click)="prevStep()">Previous</button>
                                    <button mat-button color="primary" (click)="onSubmitPersonalDetails()" [disabled]="this.personalDetailsForm.invalid">Next</button>
                                </mat-action-row>
                            </form>
                        </mat-expansion-panel>

                        <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)" hideToggle  [disabled]="!stepThree">
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    Summary and Payment
                                </mat-panel-title>
                                <mat-panel-description>
                                    <mat-icon>payment</mat-icon>
                                </mat-panel-description>
                            </mat-expansion-panel-header>

                            <div class="row">
                                <div class="col-md-6 col-12">
                                    <div class="row">
                                        <div class="col-md-7 col-12">
                                            <div class="service-type-details" *ngIf="rtiData">
                                                <h4 class="text-nowrap">RTI details</h4>
                                                <div class="field-group" *ngFor="let item of rtiData | keyvalue">
                                                    <div class="field-name">{{item.key | splitCamelcase | titlecase}}</div>
                                                    <div class="field-desc">{{item.value}}</div>
                                                </div>
                                                <!-- <ngx-json-viewer [json]="rtiData"></ngx-json-viewer> -->
                                            </div>
                                        </div>
                                        <div class="col-md-5 col-12">
                                            <div class="personal-details">
                                                <h4 class="text-nowrap">Personal Details</h4>
                                                <div class="field-group">
                                                    <div class="field-name">Full Name</div>
                                                    <div class="field-desc">{{fullname}}</div>
                                                </div>
                                                <div class="field-group">
                                                    <div class="field-name">Mobile</div>
                                                    <div class="field-desc">{{mobile}}</div>
                                                </div>
                                                <div class="field-group">
                                                    <div class="field-name">Email</div>
                                                    <div class="field-desc">{{email}}</div>
                                                </div>
                                                <div class="field-group">
                                                    <div class="field-name">Address</div>
                                                    <div class="field-desc">{{address}}</div>
                                                </div>
                                                <div class="field-group">
                                                    <div class="field-name">Pincode</div>
                                                    <div class="field-desc">{{pincode}}</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 col-12">
                                    <div class="pricing">
                                        <h4>Pricing</h4>
                                        <div class="table">
                                            <mat-radio-group aria-label="Select an option" [(ngModel)]="selectedPlan" name="radio" required>
                                                <div class="table-responsive">
                                                    <table class="table table-bordered">
                                                        <tbody>
                                                            <tr>
                                                                <td>Plan</td>
                                                                <td align="middle">Basic</td>
                                                                <td align="middle">Standard</td>
                                                                <td align="middle">Premium</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Postal Charges
                                                                    <div class="float-right">
                                                                        <span>&#8377;49</span>
                                                                        <mat-icon [ngStyle]="{'color':'#3d66b0'}">
                                                                            contact_support</mat-icon>
                                                                    </div>
                                                                </td>
                                                                <td class="text-center">
                                                                    <mat-icon [ngStyle]="{'color':'#3db04b'}">done
                                                                    </mat-icon>
                                                                </td>
                                                                <td class="text-center">
                                                                    <mat-icon [ngStyle]="{'color':'#3db04b'}">done
                                                                    </mat-icon>
                                                                </td>
                                                                <td class="text-center">
                                                                    <mat-icon [ngStyle]="{'color':'#3db04b'}">done
                                                                    </mat-icon>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>Processing Charges
                                                                    <div class="float-right">
                                                                        <span>&#8377;150</span>
                                                                        <mat-icon [ngStyle]="{'color':'#3d66b0'}">
                                                                            contact_support</mat-icon>
                                                                    </div>
                                                                </td>
                                                                <td class="text-center">
                                                                    <mat-icon [ngStyle]="{'color':'#3db04b'}">done
                                                                    </mat-icon>
                                                                </td>
                                                                <td class="text-center">
                                                                    <mat-icon [ngStyle]="{'color':'#3db04b'}">done
                                                                    </mat-icon>
                                                                </td>
                                                                <td class="text-center">
                                                                    <mat-icon [ngStyle]="{'color':'#3db04b'}">done
                                                                    </mat-icon>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>RTI Drafting Charges
                                                                    <div class="float-right">
                                                                        <span>&#8377;100</span>
                                                                        <mat-icon [ngStyle]="{'color':'#3d66b0'}">
                                                                            contact_support</mat-icon>
                                                                    </div>
                                                                </td>
                                                                <td class="text-center">
                                                                    <mat-icon [ngStyle]="{'color':'#d20b0b'}">clear
                                                                    </mat-icon>
                                                                </td>
                                                                <td class="text-center">
                                                                    <mat-icon [ngStyle]="{'color':'#3db04b'}">done
                                                                    </mat-icon>
                                                                </td>
                                                                <td class="text-center">
                                                                    <mat-icon [ngStyle]="{'color':'#3db04b'}">done
                                                                    </mat-icon>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>Phone from RTI Expert
                                                                    <div class="float-right">
                                                                        <span>&#8377;200</span>
                                                                        <mat-icon [ngStyle]="{'color':'#3d66b0'}">
                                                                            contact_support</mat-icon>
                                                                    </div>
                                                                </td>
                                                                <td class="text-center">
                                                                    <mat-icon [ngStyle]="{'color':'#d20b0b'}">clear
                                                                    </mat-icon>
                                                                </td>
                                                                <td class="text-center">
                                                                    <mat-icon [ngStyle]="{'color':'#d20b0b'}">clear
                                                                    </mat-icon>
                                                                </td>
                                                                <td class="text-center">
                                                                    <mat-icon [ngStyle]="{'color':'#3db04b'}">done
                                                                    </mat-icon>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>Choose your plan</td>
                                                                <td>
                                                                    <mat-radio-button value="Basic &#8377;199">&#8377;199
                                                                    </mat-radio-button>
                                                                </td>
                                                                <td>
                                                                    <mat-radio-button value="Standard &#8377;299">&#8377;299
                                                                    </mat-radio-button>
                                                                </td>
                                                                <td>
                                                                    <mat-radio-button value="Premium &#8377;499">&#8377;499
                                                                    </mat-radio-button>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </mat-radio-group>
                                        </div>
                                        <div class="row">
                                            <div class="col-12 text-right">
                                                <div class="selected-plan" *ngIf="selectedPlan">
                                                    <strong>Selected Plan: </strong> {{selectedPlan}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <mat-action-row>
                                <button mat-button color="warn" (click)="prevStep()">Previous</button>
                                <button mat-button color="primary" (click)="onSubmitApplyForm()" [disabled]="!selectedPlan">Proceed to Payment</button>
                            </mat-action-row>
                        </mat-expansion-panel>

                    </mat-accordion>
                </div>
                <div class="col-3">
                    <div class="payment-options">
                        <h2 class="p-3 text-center">Pay with Paytm</h2>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>